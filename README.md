# javascript-lotto-precourse

# 3. 로또

## 프로그래밍 개요

<p style="font-weight:bold; font-size:16px">사용자가 입력한 금액에 따라 로또를 발행하고, 당첨 번호에 따라 당첨 통계 및 총 수익률을 시각화 해주는 로또 프로그램.</p>

---

## 프로그래밍 요구 사항

- **Node.js** 버전 20.17.0 이상
- 프로그램 시작점은 **App.js**의 **run()**
- **@woowacourse/mission-utils**의 **Random API** 및 **Console API** 사용
- Random 값 추출은 **Random.pickUniqueNumbersIsRange()** 활용

  > <p>$\color{#FFFFFF}사용\ 예시$</p>
  >
  > - <p>$\color{#FFFFFF}1에서\ 45\ 사이의\ 중복되지\ 않은\ 정수\ 6개\ 반환 $</p>
  > - `MissionUtils.Random.pickUniqueNumbersInRange(1, 45, 6)`

- 프로그램 종료 시 **process.exit()** 호출 금지
- **package.json**파일 변경 금지
- 제공된 라이브러리 이외의 외부 라이브러리스 사용 금지
- 파일, 패키지 등의 이름 수정 금지
- 자바스크립트 코드 컨벤션을 지키면서 프로그래밍 - **JavaScript Style Guide** 원칙
- 함수(또는 메서드)가 한가지 일만 하도록 최대한 작게 만들기
- **Jest**를 이용해 정리한 기능 목록이 정상적으로 작동하는지 테스트 코드로 확인
- indent(인텐트, 들여쓰기) dehpth를 3이 넘지 않도록 구현. 2까지 허용
- **3항 연산자** 사용 금지
- 함수(또는 메서드)의 길이 15라인 넘기지 않도록 구현
- **else**를 지양
- 구현한 기능에 대한 **단위 테스트** 작성
- Lotto 클래스

  - 제공된 `Lotto` 클래스를 사용하여 구현
  - `Lotto`에 `numbers` 이외의 필드 (인스턴스 변수) 추가 금지
  - `numbers`의 접근 제어자인 `#`변경 금지
  - `Lotto`의 패키지 변경 가능

  ```
  class Lotto {
    #numbers;

    constructor(numbers) {
      this.#validate(numbers);
      this.#numbers = numbers;
    }

    #validate(numbers) {
      if (numbers.length !== 6) {
        throw new Error("[ERROR] 로또 번호는 6개여야 합니다.");
      }
    }
  }
  ```

### 학습 목표

- <u>관련 함수를 묶어 클래스를 만들고, 객체들이 협력하여 하나의 큰 기능을 수행</u>
- <u>클래스와 함수에 대한 단위 테스트를 통해 의도한 대로 정확하게 작동하는 영역 확보</u>
- <u>**1주 차, 2주 차 공통 피드백**을 최대한 반영</u>

---

## 기능 목록

- <p>$\color{#FF7400}Jest를\ 이용하여\ 각\ 기능에\ 대한\ 테스트\ 코드\ 구현$</p>
- <p>$\color{#FF7400}사용자가\ 잘못된\ 값을\ 입력할\ 경우\ "[ERROR]"로\ 시작하는\ 메시지와\ 함께\ Error를\ 발생시키고\ 해당\ 지점부터\ 다시\ 입력\ 받기$</p>

### 1. 로또 구입 기능 구현

> - <p>$\color{#FFFFFF}"구입금액을\ 입력해\ 주세요"\ 출력\ 기능$</p>
> - <p>$\color{#FFFFFF}사용자가\ 구입하고\ 싶은\ 로또\ 개수에\ 따른\ 금액\ 입력\ 기능$</p>
> - <p>$\color{#FFFFFF}입력\ 값의\ 선행\ 및\ 후행\ 공백\ 제거\ 기능$</p>
> - <p>$\color{#DB4455}구입\ 금액이\ 1,000원\ 단위로\ 나누어\ 떨어지지\ 않는\ 경우\ 예외\ 처리$</p>
> - <p>$\color{#DB4455}숫자를\ 제외한\ 문자\ 입력시\ 예외\ 처리$</p>
> - <p>$\color{#DB4455}빈\ 문자\ 입력시\ 예외\ 처리$</p>

### 2. 발행한 로또 수량 및 번호(번호는 오름차순으로 정렬)를 출력 기능 구현

> - <p>$\color{#FFFFFF}"(발행한\ 로또\ 수량)개를\ 구매했습니다"\ 출력\ 기능$</p>
> - <p>$\color{#FFFFFF}1개의\ 로또를\ 발행할\ 떄\ 중복되지\ 않는\ 6개의\ 숫자\ 뽑는\ 기능$</p>
> - <p>$\color{#FFFFFF}구입\ 금액에\ 해당하는\ 만큼\ 로또\ 발행\ 출력\ 기능$</p>
> - <p>$\color{#FFFFFF}각\ 로또\ 번호를\ 오름차순으로\ 정렬하여\ 출력\ 기능$</p>
> - <p>$\color{#DB4455}로또\ 번호가\ 6개\ 이하\ 또는\ 이상이면\ 예외\ 처리$</p>
> - <p>$\color{#DB4455}로또\ 번호에\ 중복되는\ 숫자\ 존재 시\ 예외\ 처리$</p>
> - <p>$\color{#DB4455}로또\ 번호가\ 1과\ 45사이에\ 포함되지\ 않는\ 숫자\ 존재\ 시\ 예외\ 처리$</p>

### 3. 당첨 번호 입력 기능 구현

> - <p>$\color{#FFFFFF}"당첨\ 번호를\ 입력해\ 주세요."\ 출력\ 기능$</p>
> - <p>$\color{#FFFFFF}사용자가\ 당첨\ 번호(쉼표(,)를\ 기준으로\ 구분)\ 입력\ 기능$</p>
> - <p>$\color{#FFFFFF}콤마(,)를\ 기준으로\ 입력\ 값의\ 선행\ 및\ 후행\ 공백\ 제거\ 기능$</p>
> - <p>$\color{#DB4455}당첨\ 번호\ 입력시\ 숫자\ 범위가\ 1과\ 45사이에\ 포함되지\ 않을\ 경우\ 예외\ 처리$</p>
> - <p>$\color{#DB4455}숫자와\ 구분자\ 쉼표(,)를\ 제외한\ 문자\ 입력시\ 예외\ 처리$</p>
> - <p>$\color{#DB4455}빈\ 문자\ 입력시\ 예외\ 처리$</p>
> - <p>$\color{#DB4455}숫자\ 입력\ 도중\ 빈\ 문자\ 입력시\ 예외\ 처리$</p>
> - <p>$\color{#DB4455}당첨\ 번호에\ 중복되는\ 숫자\ 존재 시\ 예외\ 처리$</p>

### 4. 보너스 번호 입력 기능 구현

> - <p>$\color{#FFFFFF}"보너스\ 번호를\ 입력해\ 주세요."\ 출력\ 기능$</p>
> - <p>$\color{#FFFFFF}사용자가\ 보너스\ 번호\ 입력\ 기능$</p>
> - <p>$\color{#FFFFFF}입력\ 값의\ 선행\ 및\ 후행\ 공백\ 제거\ 기능$</p>
> - <p>$\color{#DB4455}보너스\ 번호\ 입력시\ 숫자\ 범위가\ 1과\ 45사이에\ 포함되지\ 않을\ 경우\ 예외\ 처리$</p>
> - <p>$\color{#DB4455}숫자를\ 제외한\ 문자\ 입력시\ 예외\ 처리$</p>
> - <p>$\color{#DB4455}빈\ 문자\ 입력시\ 예외\ 처리$</p>

### 5. 당첨 내역 출력 기능 구현

> - <p>$\color{#FFFFFF}"당첨\ 통계"\ 및\ 구분선\ "---"\ 출력\ 기능$</p>
> - <p>$\color{#FFFFFF}사용자가\ 구매한\ 로또\ 번호와\ 당첨\ 번호를\ 비교하여\ 당첨\ 내역\ 출력\ 기능$</p>

### 6. 수익률 출력 기능 구현

> - <p>$\color{#FFFFFF}수익율\ 소수점\ 둘째\ 자리에서\ 반올림\ 기능$</p>
> - <p>$\color{#FFFFFF}"총\ 수익률은\ (소수점\ 둘째\ 자리에서\ 반올림한\ 수익율)\%입니다."\ 출력\ 기능$</p>

### 7. 다양한 테스트 케이스 구현

> - <p>$\color{#FFFFFF}다양한\ 단위\ 테스트\ 및\ 기능\ 테스트\ 구현\ 및\ 테스트$</p>

---

## 실행 결과 예시

### 실행 결과 성공 예시

```
구입금액을 입력해 주세요.
8000

8개를 구매했습니다.
[8, 21, 23, 41, 42, 43]
[3, 5, 11, 16, 32, 38]
[7, 11, 16, 35, 36, 44]
[1, 8, 11, 31, 41, 42]
[13, 14, 16, 38, 42, 45]
[7, 11, 30, 40, 42, 43]
[2, 13, 22, 32, 38, 45]
[1, 3, 5, 14, 22, 45]

당첨 번호를 입력해 주세요.
1,2,3,4,5,6

보너스 번호를 입력해 주세요.
7

당첨 통계
---
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 62.5%입니다.
```

### 실행 결과 실패 예시

- 로또 번호가 1에서 45사이 이외의 문자 입력시

```
[ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.
```

---

## 테스트 케이스

### 단위 테스트

1.  로또 구매 금액 예외 테스트 및 올바른 입력까지의 반복

```
    - 입력: "1000j" || " " || "1234"
    - 출력: "[ERROR]"
    - 재입력: "3000"
```

2. 당첨 번호 예외 테스트 및 올바른 입력까지의 반복

```
    - 입력: "1,a,3,4,5,6", || "1,2,3,4,5,6,7" || "1,2,3,4,5" || "-11,2,3,4,5,6" || "1,2,3,4,5,46"
    - 출력: "[ERROR]"
    - 재입력: "1,2,3,4,5,6"
```

3. 보너스 번호 예외 테스트 및 올바른 입력까지의 반복

```
    - 당첨 번호 : "1,2,3,4,5,6"
    - 입력: "d" || "-5" || "46" || "6"(당첨 번호에 존재하는 번호)
    - 출력: "[ERROR]"
    - 재입력: "7"
```

4. 로또 번호 예외 테스트

```
    - 로또 번호: "1, 2, 3, 4, 5, 6, 7" || "1, 2, 3, 4, 5, 5" || "1, 2, 3, 4, 5" || "1, 2, 3, 4, 45 ,45" || "1, a, 2, 3, 4, 5"
    - 출력: "[ERROR]"
```

### 기능 테스트

```
   - 입력: "8000", "1,2,3,4,5,6", "7"
   - 출력:
      "8개를 구매했습니다.",
      "[8, 21, 23, 41, 42, 43]",
      "[3, 5, 11, 16, 32, 38]",
      "[7, 11, 16, 35, 36, 44]",
      "[1, 8, 11, 31, 41, 42]",
      "[13, 14, 16, 38, 42, 45]",
      "[7, 11, 30, 40, 42, 43]",
      "[2, 13, 22, 32, 38, 45]",
      "[1, 3, 5, 14, 22, 45]",
      "3개 일치 (5,000원) - 1개",
      "4개 일치 (50,000원) - 0개",
      "5개 일치 (1,500,000원) - 0개",
      "5개 일치, 보너스 볼 일치 (30,000,000원) - 0개",
      "6개 일치 (2,000,000,000원) - 0개",
      "총 수익률은 62.5%입니다.",
```

---

## 회고

- 이번 과제에서는 1주차, 2주차 과제와는 다르게 객체 지향 프로그래밍으로 구현 하였습니다.  
  일단 첫번째 이유로는 다른 분들의 코드 리뷰 및 분석이 어려움이 있었고, 두번째로는 여러개의 로또 번호를 관리하기 위해
  객체 생성 및 관리가 OPP로 프로그래밍하는게 더 용이할것이라고 생각했기 때문입니다.  
  평소에 함수형으로만 프로그래밍을 구현하다가 객체지향으로 구현을 할려고 하니깐 객체 지향에 대해 공부해야하는 시간이 필요했고, 구현을 하면서 내가 잘하고 있는건가 의문도 들었습니다. 하지만 개념을 익히고 검색을 해보면서 최대한 객체지향 프로그래밍의 원칙들을 지킬려고 했습니다. 그럼에도 스스로 아직 많이 부족하고 개선해야할 점이 많은 것을 알고있습니다. 스스로 한번 더 부족했던 점을 돌아보면서 객체 지향 개념에 대해 확실하게 공부하고 개선하도록 하겠습니다.
  > 저의 코드를 보시고 저가 부족한 점이나 잘못된 점 등 다양한 피드백을 리뷰로 남겨주시면 감사하겠습니다!
