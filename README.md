# javascript-lotto-precourse

## 🔍 프로그램 소개

> 구매금액에 따라 로또를 발행하고, 입력한 당첨 번호에 따라 당첨 통계 및 수익률을 출력하는 프로그램 → 간단 로또 게임 🎱

## 📝 기능 목록

### 로또 번호 공통 요구사항

- 로또는 중복되지 않은 수 6가지의 조합으로 이뤄져야 한다.
- 수는 1 ~ 45의 범위에 속해야 한다.

### 입력 예외 처리 공통 요구사항

- `[ERROR]`로 시작하는 메세지와 함께 발생한 에러 **출력** 후 해당 지점부터 **다시 입력 받는다.**

### 1. 로또 구입 금액 입력 받기

- 로또 1장의 가격은 1,000원으로 한다.
- 구입 금액은 1,000원 단위로 입력 받아야 한다.
- `구매 금액을 입력해 주세요.` 프롬프트를 출력한 후 다음 줄에 입력을 받는다.
- 구입 금액이 1,000원으로 나눠 떨어지지 않는 경우 예외처리 한다.
  - `[ERROR]`로 시작하는 메세지와 함께 발생한 에러 **출력** 후 해당 지점부터 **다시 입력 받는다.**

### 2. 로또 발행하기

- 구입 금액에서 로또 한 장의 가격(1,000원)을 나눈 결과가 발행할 로또의 개수이다.
- 로또 발행 시 중복되지 않는 6개의 숫자를 뽑는다.
- 로또 내 숫자의 범위는 1 ~ 45이다.
- 추가 고민 포인트: 발행되는 로또에서 모든 수가 이미 발행한 로또 중 하나와 동일한 경우?
  - 이 경우 중복을 허용할 것인가, 다른 조합으로 다시 뽑을 것인가?

### 3. 발행한 로또 수량 및 로또 번호 출력하기

- 발행한(구매한) 로또 수량을 먼저 출력한다.
  - 출력 전 먼저 빈 줄 하나를 출력한다.
  - `n개를 구매했습니다.`
- 발행한 로또들의 번호를 한 장당 한 줄씩 출력한다.
  - 로또 한 장의 번호들은 오름차순으로 정렬해 보여준다.
    - `[1, 2, 3, 4, 5, 6]`

### 4. 로또 당첨 번호 입력 받기

- 로또 번호의 숫자 범위는 1 ~ 45까지이다.
- 중복되지 않는 6개의 숫자를 뽑는다.
- 번호는 쉽표(`,`)를 기준으로 구분한다.
- `당첨 번호를 입력해 주세요.` 프롬프트를 출력한 후 다음 줄에 입력을 받는다.
- 아래와 같은 경우 예외처리를 진행한다.
  1. 입력값에 구분자인 쉼표를 제외하고 숫자형이 아닌 문자가 있는 경우
  2. 입력한 로또 번호가 6개가 아닌 경우(6개 미만 or 초과)
  3. 각 번호의 숫자 범위가 1 ~ 45가 아닌 경우
  4. 중복된 번호가 있는 경우
  - `[ERROR]`로 시작하는 메세지와 함께 발생한 에러 **출력** 후 해당 지점부터 **다시 입력 받는다.**

### 5. 로또 보너스 번호 입력 받기

- 입력 전 먼저 빈 줄 하나를 출력한다.
- 보너스 번호의 숫자 범위는 당첨 번호 6가지를 제외한 수 중 1 ~ 45까지이다.
- 보너스 번호는 1개만 뽑는다.
- `보너스 번호를 입력해 주세요.` 프롬프트를 출력한 후 다음 줄에 입력을 받는다.
- 아래와 같은 경우 예외처리를 진행한다.
  1. 입력값에 숫자형이 아닌 문자가 있는 경우
  2. 번호의 숫자 범위가 1 ~ 45가 아닌 경우
  3. 입력한 보너스 번호가 위에 입력한 당첨 번호 6개 중 하나와 중복되는 경우
  - `[ERROR]`로 시작하는 메세지와 함께 발생한 에러 **출력** 후 해당 지점부터 **다시 입력 받는다.**

### 6. 발행 로또와 당첨 번호 비교하기(당첨 조건)

- 1등: 6개 번호가 모두 일치하는 경우
- 2등: 5개 번호 + 보너스 번호가 일치하는 경우
- 3등: 5개 번호가 일치하는 경우
- 4등: 4개 번호가 일치하는 경우
- 5등: 3개 번호가 일치하는 경우
- 3개 미만이 일치하는 경우엔 당첨X

### 7. 당첨 내역 출력하기

- 출력 전 먼저 빈 줄 하나를 출력한다.
- 당첨 정보에 따라 아래와 같은 포맷을 지켜 출력하도록 한다.
  ```js
  당첨 통계
  ---
  3개 일치 (5,000원) - 2개
  4개 일치 (50,000원) - 0개
  5개 일치 (1,500,000원) - 0개
  5개 일치, 보너스 볼 일치 (30,000,000원) - 1개
  6개 일치 (2,000,000,000원) - 0개
  ```

### 8. 수익률 출력하기

- 구매 금액 대비 얻은 당첨금에 따라 수익률을 나타낸다.
  - 수익률은 당첨 내역 출력 후 줄바꿈 없이 출력한다.
- 수익률은 소수점 **둘째 자리에서** 반올림한다.
  - `총 수익률은 51.5%입니다.`
- 수익률 출력 후 로또 게임을 출력한다.

## 프로그래밍 요구사항

1. indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.
2. 3항 연산자를 쓰지 않는다.
3. 함수(또는 메서드)가 한 가지 일만 하도록 최대한 작게 만들어라.
4. Jest를 이용하여 정리한 기능 목록이 정상적으로 작동하는지 테스트 코드로 확인한다.
5. 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
   - 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현한다.
6. else를 지양한다.
7. 구현한 기능에 대한 단위 테스트를 작성한다. 단, UI(System.out, System.in, Scanner) 로직은 제외한다.
8. 중복되지 않는 랜덤 값 추출은 `@woowacourse/mission-utils`에서 제공하는 `Random` API를 사용한다.
   - `Random.pickUniqueNumbersInRange()`를 활용한다.
9. 콘솔 입력 및 출력은 `@woowacourse/mission-utils`에서 제공하는 `Console` API를 사용한다.
   - `Console.readLineAsync()`와 `Console.print()`를 활용한다.
10. 제공된 Lotto 클래스를 사용하여 구현해야 한다.
    - Lotto에 numbers 이외의 필드(인스턴스 변수)를 추가할 수 없다.
    - numbers의 접근 제어자인 #은 변경할 수 없다.
    - Lotto의 패키지를 변경할 수 있다.(클래스 내부에 추가 기능 구현 가능)

## 단위 테스트 목록

1. 구입 금액에 맞춰 발행할 로또 수량 구하기
2. 구입 금액이 1000원으로 나누어 떨어지지 않는 경우, 예외 발생(콘솔 출력)
3. 중복되지 않는 1부터 45까지의 랜덤 값 6개를 가진 로또 발행하기
   - 로또가 중복되지 않는 값으로 구성되어 있는가?
   - 로또가 6개의 값으로 구성되어 있는가?
   - 로또가 1부터 45까지의 수로 구성되어 있는가?
   - 위 모든 조건에 부합하는가?
4. 로또를 원하는 수량만큼 발행하기
5. 당첨 번호가 아래와 같은 로또 번호 조건에 부합하는지 확인하기
   - 로또가 중복되지 않는 값으로 구성되어 있는가?
   - 로또가 6개의 값으로 구성되어 있는가?
   - 로또가 1부터 45까지의 수로 구성되어 있는가?
   - 위 모든 조건에 부합하는가?
6. 당첨 번호가 로또 번호 조건에 부함하지 않으면 예외 발생(콘솔 출력)
   - 당첨 번호에 중복되는 값이 있는 경우
   - 당첨 번호가 6개의 값이 아닌 경우
   - 당첨 번호가 1부터 45까지의 수가 아닌 경우
   - 당첨 번호가 숫자형이 아닌 경우
7. 보너스 번호가 로또 번호 조건에 부합하지 않으면 예외 발생(콘솔 출력)
   - 보너스 번호에 당첨 번호와 중복되는 값이 있는 경우
   - 보너스 번호가 1부터 45까지의 수가 아닌 경우
   - 보너스 번호가 한 개의 숫자가 아닌 경우
   - 보너스 번호가 숫자형이 아닌 경우
8. 발행 로또와 당첨 번호 비교하기
   1. 발행한 로또와 당첨 번호를 비교해 1등인지 판별하기(6개 일치)
   2. 발행한 로또와 당첨 번호를 비교해 2등인지 판별하기(5개 + 보너스 번호 일치)
   3. 발행한 로또와 당첨 번호를 비교해 3등인지 판별하기(5개 일치)
   4. 발행한 로또와 당첨 번호를 비교해 4등인지 판별하기(4개 일치)
   5. 발행한 로또와 당첨 번호를 비교해 5등인지 판별하기(3개 일치)
   6. 발행한 로또와 당첨 번호를 비교해 미당첨인지 판별하기(3개 미만 일치)
9. 발행한 로또에 대한 당첨 통계 구하기
   - 각 등수별 당첨 개수 구하기
10. 수익률 구하기
