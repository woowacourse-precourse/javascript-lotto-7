# javascript-lotto-precourse

## 미리보기

<img width="327" alt="image" src="https://github.com/user-attachments/assets/53f9b8cf-80cb-4ef1-accd-35dac1a205c0" />

## 기능 목록

- [x] 로또 구입 금액을 입력받는다
  - [x] 로또는 1개당 `1,000원`이며 `1,000원`으로 나누어 떨어지지 않으면 예외처리한다
  - [x] 음수 또는 양의 정수가 아니라면 예외처리한다
- [x] 당첨 번호를 입력받는다
  - [x] 당첨번호는 `1 ~ 45`의 숫자로 구성되어야 한다
  - [x] 당첨 번호가 범위 내의 값이 아닐 경우 예외처리한다
  - [x] 중복된 숫자가 있을 경우 예외처리한다
  - [x] 숫자가 아닌 값이 있을 경우 예외처리한다
- [x] 보너스 번호를 입력받는다
  - [x] 보너스 번호 또한 `1 ~ 45`의 숫자로 구성되어야 한다
  - [x] 보너스 번호가 당첨 번호와 중복될 경우 예외처리한다
- [x] 발행한 번호 수량 및 번호를 출력한다. 로또 번호는 오름차순으로 정렬하여 보여준다
- [x] 당첨 내역을 출력한다
- [x] 총 수익률을 출력한다
  - [x] 수익률은 소수점 둘째자리에서 반올림한다
- [x] 예외 상황 시 `[ERROR]`로 시작하는 에러를 발생시켜야 한다
- [x] 사용자가 잘못된 값을 입력 할 경우 에러 메시지를 출력한 다음 해당 지점부터 다시 입력을 받아야 한다

## etc

- [x] indent depth가 3을 넘지 않도록 구현한다
- [x] `3항 연산자`를 사용하지 않는다
- [x] 함수가 한 가지일만 하도록 최대한 작게 만든다
- [x] `Jest`를 이용하여 정리한 기능 목록이 정상적으로 작동하는지 테스트코드로 확인한다
- [x] 함수의 길이가 `15`줄을 넘지 않도록 구현한다
- [x] `else`를 지양한다

## 기능 설명

### `App.js`

1. 로또 구매 및 입력 처리

- 사용자가 입력한 금액을 기반으로 구매할 로또 수를 결정하고, 로또 번호 및 보너스 번호를 입력받습니다. 각 입력 과정에서는 유효성을 검증하여 잘못된 입력을 처리합니다.

2. 로또 구매 및 결과 출력:

- `#readPurchaseAmount()` 사용자가 입력한 금액을 읽고 유효성을 검사한 후, 로또 스토어를 초기화합니다.
- `#printPurchaseLotto()` 구매한 로또 번호 목록을 출력합니다.
- `#readLottoNumbers()` 당첨 번호를 입력받고, 유효성을 검증한 후 로또 스토어에 설정합니다.
- `#readLottoBonusNumbers()` 보너스 번호를 입력받고, 기존 로또 번호와의 중복 여부를 검증하여 로또 스토어에 설정합니다.

3.  결과 출력:

- `#printResult()` : 로또 스토어의 `compare()` 메서드를 호출하여 당첨 결과를 계산한 후, 각 등급별 당첨 통계와 총 수익률을 출력합니다.

### `LottoStore.js`

1. 로또 번호 생성:

- 생성자 `constructor(amount)`에서 사용자가 입력한 금액에 따라 로또 번호를 생성합니다. `getUniqueNumbersInRange()` 함수를 호출하여 고유한 로또 번호를 생성하고, 이를 Lotto 클래스의 인스턴스로 변환하여 #lottoList에 저장합니다.

2. 로또 번호 목록 조회:

- `getLottoList()` 메서드를 통해 생성된 로또 번호 목록을 반환합니다. 각 로또 인스턴스에서 getNumbers() 메서드를 호출하여 번호를 가져옵니다.

3. 당첨 번호 설정:

- `setWinningNumbers(lottoNumbers, lottoBonusNumber)` 메서드를 통해 당첨 번호와 보너스 번호를 설정합니다. 이를 통해 이후 당첨 결과 비교에 사용할 수 있습니다.

4. 당첨 결과 비교:

- `compare()` 메서드는 각 로또 번호와 당첨 번호를 비교하여 당첨 결과를 계산합니다.
- 이 과정에서 각 로또의 일치 수 및 보너스 번호 일치를 확인하여 매칭 결과를 배열로 반환합니다.
- 이후 `#initializeResultMap()`과 `#calculateResult()`를 호출하여 각 등급별 당첨 통계를 집계합니다.

5. 통계 계산:

- `#initializeResultMap()` 메서드는 당첨 통계 결과를 저장할 맵을 초기화합니다.
- `#calculateResult()` 메서드는 각 로또의 일치 결과에 따라 당첨 등급을 계산하고, 이를 결과 맵에 업데이트합니다.

6. 등급 매칭:

- `#matchOption(matchAmount, isBonus)` 메서드는 일치한 번호의 개수와 보너스 번호 여부에 따라 당첨 등급을 반환합니다.
