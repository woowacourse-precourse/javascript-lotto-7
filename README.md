# javascript-lotto-precourse

## 문제 정리

> **로또 구입 금액**, **당첨 번호** **보너스 번호**를 입력받는다.
>
> **발행한 로또 수량 및 번호**, **당첨 내역**, **수익률**을 출력한다.

<br/>

## 기능 요구사항 정리

1. 로또의 상수를 정의한다.
   1. 최소 숫자: 1
   2. 최대 숫자: 45
   3. 로또의 숫자 개수: 6
   4. 로또의 보너스 볼 개수: 1
   5. 로또의 가격: 1000
2. 구입 금액을 입력 받는다.
   1. 사용자가 숫자가 아닌 값을 입력했을 경우, ERROR를 출력하고 다시 입력받는다.
   2. 입력값을 숫자로 변환한다.
3. 구입 금액 만큼 로또를 발행한다.
   1. 발행한 로또 개수를 구한다.
      1. 로또 가격으로 구입금액이 나누어 떨어지지 않는 경우 오류를 던진다.
   2. 발행한 로또 개수를 출력한다.
   3. 오름차순으로 정렬된 로또 번호를 생성한다.
   4. 로또 번호를 출력한다.
4. 당첨 번호를 입력받는다.
   1. 당첨 번호의 숫자는 쉼표로 구분하여 배열로 변환한다.
   2. 로또 번호가 6개가 아닌 경우 오류를 던진다.
   3. 로또 번호들이 숫자가 아닌 경우 오류를 던진다.
   4. 로또 번호를 숫자로 변환한다.
5. 보너스 볼 번호를 입력받는다.
   1. 숫자가 아닌 경우 오류를 던진다.
   2. 당첨 번호와 숫자가 하나라도 겹치면 오류를 던진다.
   3. 숫자로 변환한다.
6. 로또를 정의한다.
   1. 로또 상금 정보들을 정의한다.
   2. 전체 로또 상금 정보를 제공한다.
   3. 로또 번호가 중복되면 오류를 던진다.
   4. 로또 번호가 숫자가 아닌 경우 오류를 던진다.
   5. 당첨 번호, 보너스 볼 번호를 가지고 당첨 유무를 확인한다.
   6. 당첨 순위를 가지고 당첨 정보를 제공한다.
7. 당첨된 로또를 구한다.
   1. 당첨된 로또를 구한다.
   2. 당첨된 로또를 출력한다.
   3. 당첨된 로또의 수익률을 구하여 출력한다.
      1. 소수점 둘째 자리에서 반올림한다.
      2. 천의 자리수마다 콤마를 넣는다.
8. 테스트 코드를 작성한다.
   1. 유틸 클래스에 대한 테스트 코드를 작성한다.
   2. 로또 클래스에 대한 테스트 코드를 작성한다.
   3. 유효성 클래스에 대한 테스트 코드를 작성한다.
   4. 어플리케이션 클래스에 대한 테스트 코드를 작성한다.

<br/>

## 주의사항 정리

1. `@woowacourse/mission-utils`에서 제공하는 Random 및 Console API를 사용하여 구현해야 한다.

   - `Random` 값 추출은 `Random.pickUniqueNumbersInRange()`를 활용한다.
   - 사용자의 값을 입력 및 출력하려면 `Console.readLineAsync()`와 `Console.print()`를 활용한다.

2. 잘못된 문자열인 경우 "[ERROR]"로 시작하는 오류 메시지와 함께 `Error`를 발생시킨 후 프로그램이 종료된다.
   1. 단, 사용자가 구입금액에 잘못된 값을 입력할 경우 "[ERROR]"로 시작하는 메시지와 함께 Error를 발생시키고 해당 메시지를 출력한 다음 해당 지점부터 다시 입력을 받는다.
3. indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다. 예를 들어 while문 안에 if문이 있으면 들여쓰기는 2이다.
4. 3항 연산자를 쓰지 않는다.
5. 함수(또는 메서드)가 한 가지 일만 하도록 최대한 작게 만든다.
6. Jest를 이용하여 정리한 기능 목록이 정상적으로 작동하는지 테스트 코드로 확인한다.
7. 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
   1. 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현한다.
8. else를 지양한다.
   1. 때로는 if/else, when문을 사용하는 것이 더 깔끔해 보일 수 있다. 어느 경우에 쓰는 것이 적절할지 스스로 고민해 본다.
   2. 힌트: if 조건절에서 값을 return하는 방식으로 구현하면 else를 사용하지 않아도 된다.
9. 구현한 기능에 대한 단위 테스트를 작성한다. 단, UI(System.out, System.in, Scanner) 로직은 제외한다.
10. Lotto 클래스
    1. 제공된 Lotto 클래스를 사용하여 구현해야 한다.
    2. Lotto에 numbers 이외의 필드(인스턴스 변수)를 추가할 수 없다.
    3. numbers의 접근 제어자인 #은 변경할 수 없다.
    4. Lotto의 패키지를 변경할 수 있다.

<br/>

## 구현시 고려한 사항

- 컴퓨터에서 이진수에 대해 반올림이 정상적으로 되지 않는 경우가 있기 때문에, 별도의 반올림 메서드를 만들었습니다.
  - ex) (62.55)toFixed(1) => 기대 62.6, 실제 : 62.5
- 수익률을 구할 떄 구입 금액이 `0`인 경우, `"0.0%"`으로 출력되게 보여줍니다.
- 최대한 문자열은 상수로 관리합니다.
  - 국가 지역`(ko-kr)`는 상수로 관리합니다.
  - 만약 특정 값이 필요한 메시지일 경우 상수로 관리하지 않고 문자열 리터럴로 관리했습니다.
- 크게 유효성, 변환, 출력, 입력으로 메서드를 분리했습니다.
  - 메서드에 코드 양이 많을 경우 메서드를 분리하여 가독성을 높였습니다.
- 로또, 어플리케이션 클래스에 공통적으로 사용되는 유효성의 경우에는 유효성 클래스로 별도로 분리했습니다.
